<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QT(信号和槽) | kpsun</title>
  <meta name="keywords" content=" QT ">
  <meta name="description" content="QT(信号和槽) | kpsun">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta property="og:type" content="website">
<meta property="og:title" content="category">
<meta property="og:url" content="http://goskp.github.io/category/index.html">
<meta property="og:site_name" content="kpsun">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-08-14T04:20:49.000Z">
<meta property="article:modified_time" content="2022-08-14T04:20:49.238Z">
<meta property="article:author" content="kpsun">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/o.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-dark.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 6.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="false" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="false" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/o.jpg"/>
</a>
<div class="author">
    <span>kpsun</span>
</div>

<div class="icon">
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(55)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="后端">
                        
                        后端
                        <small>(22)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Qt5开发">
                        
                        Qt5开发
                        <small>(6)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="数据结构">
                        
                        数据结构
                        <small>(24)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="算法">
                        
                        算法
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="计算机硬件">
                        
                        计算机硬件
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="设计模式">
                        
                        设计模式
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">关于</a>
        
        <a style="width: 50%"
                
                                           class="friends">友链</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="55">
<input type="hidden" id="yelog_site_word_count" value="99.5k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://fomalhaut1998.github.io/">Fomalhaut1998a</a></li>
            
            <li><a target="_blank" href="https://cnhuazhu.gitee.io/">cnhuazhu</a></li>
            
            <li><a target="_blank" href="https://wangeasycloud.cn/">cheerio</a></li>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
            <li><a target="_blank" href="https://lee-jhong001-github-io.vercel.app/">lee-jhong</a></li>
            
            <li><a target="_blank" href="https://hi-wilson.github.io/">Wilson</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Algorithm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>DesignPattern</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>QT</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Rust</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据结构</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>计算机硬件</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 设计模式 "
           href="/2022/10/01/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"
           data-tag="DesignPattern"
           data-author="" >
            <span class="post-title" title="设计模式-观察者模式">设计模式-观察者模式</span>
            <span class="post-date" title="2022-10-01 10:34:34">2022/10/01</span>
        </a>
        
        
        <a  class="全部文章 算法 "
           href="/2022/09/30/C++%E5%B8%B8%E7%94%A8%E5%88%B7%E9%A2%98%E6%8A%80%E5%B7%A7/"
           data-tag="Algorithm"
           data-author="" >
            <span class="post-title" title="C/C++常用刷题技巧">C/C++常用刷题技巧</span>
            <span class="post-date" title="2022-09-30 15:36:35">2022/09/30</span>
        </a>
        
        
        <a  class="全部文章 Qt5开发 "
           href="/2022/09/29/QT(%E5%B8%83%E5%B1%80)/"
           data-tag="QT"
           data-author="" >
            <span class="post-title" title="QT(布局)">QT(布局)</span>
            <span class="post-date" title="2022-09-29 18:53:52">2022/09/29</span>
        </a>
        
        
        <a  class="全部文章 Qt5开发 "
           href="/2022/09/26/QT(%E5%AF%B9%E8%AF%9D%E6%A1%86)/"
           data-tag="QT"
           data-author="" >
            <span class="post-title" title="QT(对话框)">QT(对话框)</span>
            <span class="post-date" title="2022-09-26 07:06:17">2022/09/26</span>
        </a>
        
        
        <a  class="全部文章 Qt5开发 "
           href="/2022/09/23/QT(%E6%8E%A7%E4%BB%B6)/"
           data-tag="QT"
           data-author="" >
            <span class="post-title" title="QT(控件)">QT(控件)</span>
            <span class="post-date" title="2022-09-23 16:07:57">2022/09/23</span>
        </a>
        
        
        <a  class="全部文章 Qt5开发 "
           href="/2022/09/22/QT(QWidget)/"
           data-tag="QT"
           data-author="" >
            <span class="post-title" title="QT(QWidget)">QT(QWidget)</span>
            <span class="post-date" title="2022-09-22 19:09:02">2022/09/22</span>
        </a>
        
        
        <a  class="全部文章 Qt5开发 "
           href="/2022/09/06/QT(%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD)/"
           data-tag="QT"
           data-author="" >
            <span class="post-title" title="QT(信号和槽)">QT(信号和槽)</span>
            <span class="post-date" title="2022-09-06 12:08:32">2022/09/06</span>
        </a>
        
        
        <a  class="全部文章 Qt5开发 "
           href="/2022/09/01/QT(%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B)/"
           data-tag="QT"
           data-author="" >
            <span class="post-title" title="QT(常用数据类型)">QT(常用数据类型)</span>
            <span class="post-date" title="2022-09-01 15:32:46">2022/09/01</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/08/31/Rust(1)/"
           data-tag="Rust"
           data-author="" >
            <span class="post-title" title="Rust(1)">Rust(1)</span>
            <span class="post-date" title="2022-08-31 18:39:55">2022/08/31</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9B%9E%E6%BA%AF%E6%B3%95(DP,Queen)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-回溯法(DP,Queen)">数据结构-回溯法(DP,Queen)</span>
            <span class="post-date" title="2022-07-22 16:19:29">2022/07/22</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92(DP)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-动态规划(DP)">数据结构-动态规划(DP)</span>
            <span class="post-date" title="2022-07-20 16:18:50">2022/07/20</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95(sort)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-排序算法(sort)">数据结构-排序算法(sort)</span>
            <span class="post-date" title="2022-07-18 10:35:06">2022/07/18</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/17/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%88%86%E8%80%8C%E6%B2%BB%E4%B9%8B/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-分而治之">数据结构-分而治之</span>
            <span class="post-date" title="2022-07-17 16:18:25">2022/07/17</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/16/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95(graph)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-贪心算法(graph)">数据结构-贪心算法(graph)</span>
            <span class="post-date" title="2022-07-16 16:17:58">2022/07/16</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/15/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%B7%B1%E5%BA%A6%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88(DFS,BFS)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-深度/广度优先(DFS,BFS)">数据结构-深度/广度优先(DFS,BFS)</span>
            <span class="post-date" title="2022-07-15 16:17:01">2022/07/15</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/13/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9B%BE(graph)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-图(graph)">数据结构-图(graph)</span>
            <span class="post-date" title="2022-07-13 16:16:30">2022/07/13</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%BA%A2%E9%BB%91%E6%A0%91(RB)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-红黑树(RB)">数据结构-红黑树(RB)</span>
            <span class="post-date" title="2022-07-12 16:15:41">2022/07/12</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91(AVL)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-平衡二叉树(AVL)">数据结构-平衡二叉树(AVL)</span>
            <span class="post-date" title="2022-07-11 16:15:25">2022/07/11</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%88%86%E6%94%AF%E5%AE%9A%E7%95%8C(C++%E6%8F%8F%E8%BF%B0)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-分支定界(C++描述)">数据结构-分支定界(C++描述)</span>
            <span class="post-date" title="2022-07-10 16:14:33">2022/07/10</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91(tree)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-哈夫曼树(tree)">数据结构-哈夫曼树(tree)</span>
            <span class="post-date" title="2022-07-09 16:06:00">2022/07/09</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/08/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91(tree)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-二叉搜索树(tree)">数据结构-二叉搜索树(tree)</span>
            <span class="post-date" title="2022-07-08 19:34:11">2022/07/08</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/07/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%BA%8C%E5%8F%89%E6%A0%91(tree)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-二叉树(tree)">数据结构-二叉树(tree)</span>
            <span class="post-date" title="2022-07-07 08:26:46">2022/07/07</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%A0%86(heap)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-堆(heap)">数据结构-堆(heap)</span>
            <span class="post-date" title="2022-07-06 12:50:51">2022/07/06</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/05/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%93%88%E5%B8%8C%E8%A1%A8(hash)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-哈希表(hash)">数据结构-哈希表(hash)</span>
            <span class="post-date" title="2022-07-05 18:06:58">2022/07/05</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/05/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%93%88%E5%B8%8C%E5%AD%98%E5%82%A8(hash)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-哈希存储(hash)">数据结构-哈希存储(hash)</span>
            <span class="post-date" title="2022-07-05 17:12:58">2022/07/05</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/04/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%B0%81%E8%A3%85string%E7%B1%BB(C++%E6%8F%8F%E8%BF%B0)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-简单封装string类(C++描述)">数据结构-简单封装string类(C++描述)</span>
            <span class="post-date" title="2022-07-04 16:17:52">2022/07/04</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/03/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%B8%B2(string,BF,KMP)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-串(string,BF,KMP)">数据结构-串(string,BF,KMP)</span>
            <span class="post-date" title="2022-07-03 14:36:09">2022/07/03</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%98%9F%E5%88%97(queue)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-队列(queue)">数据结构-队列(queue)</span>
            <span class="post-date" title="2022-07-02 15:38:29">2022/07/02</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/07/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%88(stack)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-栈(stack)">数据结构-栈(stack)</span>
            <span class="post-date" title="2022-07-01 20:29:22">2022/07/01</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/06/30/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%A1%BA%E5%BA%8F%E8%A1%A8(list)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-顺序表(list)">数据结构-顺序表(list)</span>
            <span class="post-date" title="2022-06-30 12:46:33">2022/06/30</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/06/29/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%90%88%E5%B9%B6,%E5%8F%8D%E8%BD%AC,%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8(list)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-合并,反转,有序链表(list)">数据结构-合并,反转,有序链表(list)</span>
            <span class="post-date" title="2022-06-29 10:40:49">2022/06/29</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/06/28/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8(list)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-双向链表(list)">数据结构-双向链表(list)</span>
            <span class="post-date" title="2022-06-28 10:34:06">2022/06/28</span>
        </a>
        
        
        <a  class="全部文章 数据结构 "
           href="/2022/06/27/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9F%BA%E7%A1%80%E5%8D%95%E9%93%BE%E8%A1%A8(list)/"
           data-tag="数据结构"
           data-author="" >
            <span class="post-title" title="数据结构-基础单链表(list)">数据结构-基础单链表(list)</span>
            <span class="post-date" title="2022-06-27 20:54:15">2022/06/27</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/06/26/C++%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E6%A8%A1%E6%9D%BF/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++可变参数模板">C++可变参数模板</span>
            <span class="post-date" title="2022-06-26 18:15:05">2022/06/26</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/06/24/C++%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++正则表达式">C++正则表达式</span>
            <span class="post-date" title="2022-06-24 17:10:54">2022/06/24</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/06/21/C++%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++智能指针">C++智能指针</span>
            <span class="post-date" title="2022-06-21 19:06:51">2022/06/21</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/06/17/C++%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93%E7%AE%97%E6%B3%95%E7%AF%87(%E6%8B%B7%E8%B4%9D,%E7%AE%97%E6%95%B0,%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88,%E5%A0%86)/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++标准模板库算法篇(拷贝,算数,排列组合,堆)">C++标准模板库算法篇(拷贝,算数,排列组合,堆)</span>
            <span class="post-date" title="2022-06-17 14:01:01">2022/06/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/06/13/C++%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93%E7%AE%97%E6%B3%95%E7%AF%87(%E6%9F%A5%E6%89%BE,%E6%8E%92%E5%BA%8F,%E9%9B%86%E5%90%88)/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++标准模板库算法篇(查找,排序,集合)">C++标准模板库算法篇(查找,排序,集合)</span>
            <span class="post-date" title="2022-06-13 15:56:33">2022/06/13</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/06/09/C++%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++标准模板库之迭代器">C++标准模板库之迭代器</span>
            <span class="post-date" title="2022-06-09 16:47:20">2022/06/09</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/06/04/C++%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93%E4%B9%8Binitalizer_list%E4%B8%8Eset%E4%B8%8Emap/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++标准模板库之initalizer_list与set与map">C++标准模板库之initalizer_list与set与map</span>
            <span class="post-date" title="2022-06-04 16:41:40">2022/06/04</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/30/C++%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93%E4%B9%8Blist%E4%B8%8Estack%E4%B8%8Equeue/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++标准模板库之list与stack与queue">C++标准模板库之list与stack与queue</span>
            <span class="post-date" title="2022-05-30 12:35:09">2022/05/30</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/27/C++%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93%E4%B9%8Barray%E4%B8%8Evector/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++标准模板库之array与vector">C++标准模板库之array与vector</span>
            <span class="post-date" title="2022-05-27 14:16:07">2022/05/27</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/26/C++%E6%A8%A1%E6%9D%BF/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++模板">C++模板</span>
            <span class="post-date" title="2022-05-26 08:32:18">2022/05/26</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/25/C++%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++异常处理">C++异常处理</span>
            <span class="post-date" title="2022-05-25 16:26:04">2022/05/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/24/C++IO%E6%B5%81/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++IO流">C++IO流</span>
            <span class="post-date" title="2022-05-24 16:11:36">2022/05/24</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/23/C++%E8%99%9A%E5%87%BD%E6%95%B0%E4%B8%8E%E5%A4%9A%E6%80%81/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++虚函数与多态">C++虚函数与多态</span>
            <span class="post-date" title="2022-05-23 16:04:05">2022/05/23</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/22/C++%E7%BB%A7%E6%89%BF/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++继承">C++继承</span>
            <span class="post-date" title="2022-05-22 11:47:42">2022/05/22</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/21/C++%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++运算符重载">C++运算符重载</span>
            <span class="post-date" title="2022-05-21 08:32:18">2022/05/21</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/20/C++%E5%8F%8B%E5%85%83/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++友元">C++友元</span>
            <span class="post-date" title="2022-05-20 18:37:54">2022/05/20</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/19/C++%E7%89%B9%E6%AE%8A%E6%88%90%E5%91%98/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++特殊成员">C++特殊成员</span>
            <span class="post-date" title="2022-05-19 21:07:35">2022/05/19</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/18/C++%E7%B1%BB%E7%9A%84%E7%BB%84%E5%90%88%E6%A1%88%E4%BE%8B/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++类的组合案例">C++类的组合案例</span>
            <span class="post-date" title="2022-05-18 19:07:35">2022/05/18</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/17/C++%E6%9E%84%E9%80%A0%E4%B8%8E%E6%9E%90%E6%9E%84/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++构造与析构">C++构造与析构</span>
            <span class="post-date" title="2022-05-17 13:17:08">2022/05/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/16/C++%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++类和对象">C++类和对象</span>
            <span class="post-date" title="2022-05-16 11:58:16">2022/05/16</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2022/05/15/C++%E5%92%8CC%E7%9A%84%E5%8C%BA%E5%88%AB/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++和C的区别">C++和C的区别</span>
            <span class="post-date" title="2022-05-15 15:24:31">2022/05/15</span>
        </a>
        
        
        <a  class="全部文章 计算机硬件 "
           href="/2022/05/10/%E8%AE%A1%E7%BB%84-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6%E5%9F%BA%E7%A1%80/"
           data-tag="计算机硬件"
           data-author="" >
            <span class="post-title" title="计组-计算机硬件基础">计组-计算机硬件基础</span>
            <span class="post-date" title="2022-05-10 10:30:46">2022/05/10</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-QT(信号和槽)" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">QT(信号和槽)</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Qt5开发">Qt5开发</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">QT</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2022-10-01 17:24:03'>2022-09-06 12:08</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:4.8k</span>
        
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD%E6%A6%82%E8%BF%B0"><span class="toc-text">1. 信号和槽概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E4%BF%A1%E5%8F%B7%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-text">1.1 信号的本质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E6%A7%BD%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-text">1.2 槽的本质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">1.3 信号和槽的关系</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E6%A0%87%E5%87%86%E4%BF%A1%E5%8F%B7%E6%A7%BD%E4%BD%BF%E7%94%A8"><span class="toc-text">2. 标准信号槽使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E6%A0%87%E5%87%86%E4%BF%A1%E5%8F%B7-x2F-%E6%A7%BD"><span class="toc-text">2.1 标准信号&#x2F;槽</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E4%BD%BF%E7%94%A8"><span class="toc-text">2.2 使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BF%A1%E5%8F%B7%E6%A7%BD%E4%BD%BF%E7%94%A8"><span class="toc-text">3. 自定义信号槽使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BF%A1%E5%8F%B7"><span class="toc-text">3.1 自定义信号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A7%BD"><span class="toc-text">3.2 自定义槽</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E4%BF%A1%E5%8F%B7%E6%A7%BD%E6%8B%93%E5%B1%95"><span class="toc-text">4. 信号槽拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E4%BF%A1%E5%8F%B7%E6%A7%BD%E4%BD%BF%E7%94%A8%E6%8B%93%E5%B1%95"><span class="toc-text">4.1 信号槽使用拓展</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E4%BF%A1%E5%8F%B7%E6%A7%BD%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="toc-text">4.2 信号槽的连接方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">4.3 Lambda表达式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-text">Qt内存回收机制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%AE%80%E4%BB%8B"><span class="toc-text">一、简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="toc-text">1、内存管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98%E4%BE%8B%E5%AD%90"><span class="toc-text">2、内存问题例子</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-信号和槽概述"><a href="#1-信号和槽概述" class="headerlink" title="1. 信号和槽概述"></a>1. 信号和槽概述</h1><blockquote>
<p>信号槽是 Qt 框架引以为豪的机制之一。所谓信号槽，实际就是观察者模式(发布-订阅模式)。当某个<code>事件</code>发生之后，比如，按钮检测到自己被点击了一下，它就会发出一个信号（signal）。这种发出是没有目的的，类似广播。如果有对象对这个信号感兴趣，它就会使用连接（connect）函数，意思是，将想要处理的信号和自己的一个函数（称为槽（slot））绑定来处理这个信号。也就是说，当信号发出时，被连接的槽函数会自动被回调。这就类似观察者模式：当发生了感兴趣的事件，某一个操作就会被自动触发。</p>
</blockquote>
<h2 id="1-1-信号的本质"><a href="#1-1-信号的本质" class="headerlink" title="1.1 信号的本质"></a>1.1 信号的本质</h2><p>信号是由于用户对窗口或控件进行了某些操作，导致窗口或控件产生了某个特定事件，这时候Qt对应的窗口类会发出某个信号，以此对用户的挑选做出反应。</p>
<p>因此根据上述的描述我们得到一个结论：信号的本质就是事件，比如：</p>
<ul>
<li><p>按钮单击、双击</p>
</li>
<li><p>窗口刷新</p>
</li>
<li><p>鼠标移动、鼠标按下、鼠标释放</p>
</li>
<li><p>键盘输入</p>
</li>
</ul>
<p>那么在Qt中信号是通过什么形式呈现给使用者的呢？</p>
<ul>
<li>我们对哪个窗口进行操作, 哪个窗口就可以捕捉到这些被触发的事件。</li>
<li>对于使用者来说触发了一个事件我们就可以得到Qt框架给我们发出的某个特定信号。</li>
<li>信号的呈现形式就是函数， 也就是说某个事件产生了， Qt框架就会调用某个对应的信号函数， 通知使用者。</li>
</ul>
<p><code>在QT中信号的发出者是某个实例化的类对象，对象内部可以进行相关事件的检测。</code></p>
<h2 id="1-2-槽的本质"><a href="#1-2-槽的本质" class="headerlink" title="1.2 槽的本质"></a>1.2 槽的本质</h2><p>槽（Slot）就是对信号响应的函数。槽就是一个函数，与一般的C++函数是一样的，可以定义在类的任何部分（public、private或 protected），可以具有任何参数，可以被重载，也可以被直接调用(但是不能有默认参数)。槽函数与一般的函数不同的是：槽函数可以与一个信号关联，当信号被发射时，关联的槽函数被自动执行。</p>
<p>举个简单的例子：</p>
<p>女朋友说：“我肚子饿了！”，于是我带她去吃饭。</p>
<p>上边例子中相当于女朋友发出了一个信号， 我收到了信号并其将其处理掉了。</p>
<ul>
<li>女朋友 -&gt; 发送信号的对象, 信号内容: 我饿了</li>
<li>我 -&gt; 接收信号的对象并且处理掉了这个信号, 处理动作: 带她去吃饭</li>
</ul>
<p><code>在Qt中槽函数的所有者也是某个类的实例对象。</code></p>
<p>写信：发件人    信的内容      收件人  收到信做事情</p>
<h2 id="1-3-信号和槽的关系"><a href="#1-3-信号和槽的关系" class="headerlink" title="1.3 信号和槽的关系"></a>1.3 信号和槽的关系</h2><p>在Qt中信号和槽函数都是独立的个体，本身没有任何联系，但是由于某种特性需求我们可以将二者连接到一起，好比牛郎和织女想要相会必须要有喜鹊为他们搭桥一样。</p>
<p>信号与槽关联是用 QObject::connect() 函数实现的，其基本格式是：</p>
<pre><code class="cpp">[static] QMetaObject::Connection  QObject::connect(
    const QObject *sender, 								
    const char *signal, 								
    const QObject *receiver, 							
    const char *method, 								
    Qt::ConnectionType type = Qt::AutoConnection);	
</code></pre>
<ul>
<li><strong>参数:</strong><ul>
<li><strong>sender</strong>: 发出信号的对象</li>
<li><strong>signal</strong>: sender对象的信号，信号是一个函数</li>
<li><strong>receiver</strong>: 信号接收者</li>
<li><strong>method</strong>: receiver对象的槽函数, 当检测到sender发出了signal信号, receiver对象调用method方法</li>
</ul>
</li>
</ul>
<p><code> connect函数相对于做了信号处理动作的注册,调用conenct连接信号与槽时，sender对象的信号并没有产生, 因此receiver对象的method也不会被调用,method槽函数本质是一个回调函数, 调用的时机是信号产生之后。 调用槽函数是Qt框架来执行的,connect中的sender和recever两个指针必须被实例化了, 否则conenct不会成功</code>。</p>
<h1 id="2-标准信号槽使用"><a href="#2-标准信号槽使用" class="headerlink" title="2. 标准信号槽使用"></a>2. 标准信号槽使用</h1><h2 id="2-1-标准信号-x2F-槽"><a href="#2-1-标准信号-x2F-槽" class="headerlink" title="2.1 标准信号&#x2F;槽"></a>2.1 标准信号&#x2F;槽</h2><p>在Qt提供的很多类中都可以对用户触发的某些特定事件进行检测,  当事件被触发后就会产生对应的信号, 这些信号都是Qt类内部自带的, 因此称之为标准信号。</p>
<p>同样的，在Qt的很多类内部为我了提供了很多功能函数，并且这些函数也可以作为触发的信号的处理动作，有这类特性的函数在Qt中称之为标准槽函数。</p>
<p>系统自带的信号和槽通常如何查找呢，这个就需要利用帮助文档了，在帮助文档中比如我们上面的按钮的点击信号，在帮助文档中输入QPushButton，首先我们可以在<code>Contents</code>中寻找关键字 <code>signals</code>，信号的意思，但是我们发现并没有找到，这时候我们应该看当前类从父类继承下来了哪些信号，因此我们去他的父类QAbstractButton中就可以找到该关键字，点击signals索引到系统自带的信号有如下几个</p>
<h2 id="2-2-使用"><a href="#2-2-使用" class="headerlink" title="2.2 使用"></a>2.2 使用</h2><blockquote>
<p>功能实现： 点击窗口上的按钮, 关闭窗口</p>
<ul>
<li>按钮: 信号发出者 -&gt; <code>QPushButton</code></li>
<li>窗口: 信号的接收者和处理者 -&gt; <code>QWidget</code></li>
</ul>
</blockquote>
<pre><code class="c++">// 单击按钮发出的信号
[signal] void QAbstractButton::clicked(bool checked = false)
// 关闭窗口的槽函数
[slot] bool QWidget::close();

// 单击按钮关闭窗口
connect(ui-&gt;closewindow, &amp;QPushButton::clicked, this, &amp;MainWindow::close);
</code></pre>
<h1 id="3-自定义信号槽使用"><a href="#3-自定义信号槽使用" class="headerlink" title="3. 自定义信号槽使用"></a>3. 自定义信号槽使用</h1><blockquote>
<p>Qt框架提供的信号槽在某些特定场景下是无法满足我们的项目需求的，因此我们还设计自己需要的的信号和槽，同样还是使用connect()对自定义的信号槽进行连接。</p>
</blockquote>
<p>如果想要使用自定义的信号和槽, 首先要编写新的类并且让其继承Qt的某些标准类,我们自己编写的类想要在Qt中使用使用信号槽机制, 那么必须要满足的如下条件: </p>
<ul>
<li>这个类必须从QObject类或者是其子类进行派生</li>
<li>在定义类的第一行头文件中加入 Q_OBJECT 宏</li>
</ul>
<pre><code class="c++">// 在头文件派生类的时候，首先像下面那样引入Q_OBJECT宏：
class MyMainWindow : public QWidget
&#123;
    Q_OBJECT
public:
    ......
&#125;
</code></pre>
<h2 id="3-1-自定义信号"><a href="#3-1-自定义信号" class="headerlink" title="3.1 自定义信号"></a>3.1 自定义信号</h2><ul>
<li><p>信号是类的成员函数</p>
</li>
<li><p>返回值是 void 类型</p>
</li>
<li><p>参数可以随意指定, 信号也支持重载</p>
</li>
<li><p>信号需要使用 signals 关键字进行声明, 使用方法类似于public等关键字</p>
</li>
<li><p>信号函数只需要声明, 不需要定义(没有函数体实现)</p>
</li>
<li><p>在程序中发送自定义信号: 发送信号的本质就是调用信号函数</p>
<pre><code class="cpp">emit mysignals();	//发送信号
</code></pre>
<p><span style="color:red;font-size:13px;">emit是一个空宏，没有特殊含义，仅用来表示这个语句是发射一个信号，不写当然可以，但是不推荐。</span></p>
</li>
</ul>
<pre><code class="c++">// 举例: 信号重载
// Qt中的类想要使用信号槽机制必须要从QObject类派生(直接或间接派生都可以)
class MyButton : public QPushButton
&#123;
    Q_OBJECT
signals:
    void testsignal();
    void testsignal(int a);
&#125;;
//qRegisterMetaType
</code></pre>
<p>信号参数的作用是数据传递, 谁调用信号函数谁就指定实参，实参最终会被传递给槽函数</p>
<h2 id="3-2-自定义槽"><a href="#3-2-自定义槽" class="headerlink" title="3.2 自定义槽"></a>3.2 自定义槽</h2><blockquote>
<p>槽函数就是信号的处理动作，自定义槽函数和自定义的普通函数写法是一样的。</p>
</blockquote>
<p><strong>特点：</strong></p>
<ul>
<li><p>返回值是 void 类型</p>
</li>
<li><p>槽函数也支持重载</p>
<ul>
<li>槽函数参数个数, 需要看连接的信号的参数个数</li>
<li>槽函数的参数是用来接收信号发送的数据的, 信号的参数就是需要发送的数据</li>
<li>举例:<ul>
<li>信号函数: void testsig(int a, double b);</li>
<li>槽函数:   void testslot(int a, double b);</li>
</ul>
</li>
<li>总结:<ul>
<li>槽函数的参数应该和对应的信号的参数个数, 类型一一对应</li>
<li>信号的参数可以大于等于槽函数的参数个数，未被槽函数接受的数据会被忽略<ul>
<li>信号函数: void testsig(int a, double b);</li>
<li>槽函数:   void testslot(int a);</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>槽函数的类型:</strong></p>
<ul>
<li>成员函数<ul>
<li>普通成员函数</li>
<li>静态成员函数</li>
</ul>
</li>
<li>全局函数</li>
<li>lambda表达式(匿名函数)</li>
</ul>
<ol start="4">
<li>槽函数可以使用关键字进行声明: slots (Qt5中slots可以省略不写)<ul>
<li>public slots:</li>
<li>private slots:</li>
<li>protected slots:</li>
</ul>
</li>
</ol>
<p>场景举例</p>
<pre><code class="c++">// 女朋友饿了, 我请她吃饭
// class GirlFriend
// class OneSelf
class GirlFriend:public QObject
&#123;
    Q_OBJECT
public:
    GirlFriend(QObject*parent = nullptr):QObject(parent) &#123;&#125;
signals:
    void hungry();
public slots:
&#125;;

class OneSelf:public QObject
&#123;
    Q_OBJECT
public:
    OneSelf(QObject*parent = nullptr):QObject(parent)
    &#123;&#125;
    void goEat()
    &#123;
        qDebug()&lt;&lt;&quot;goEat&quot;;
    &#125;
    static void goEatFood()
    &#123;
        qDebug()&lt;&lt;&quot;goEatFood&quot;;
    &#125;
signals:
public slots:
    void onHungry()
    &#123;
        qDebug()&lt;&lt;&quot;宝贝饿了呀，多喝热水哟~&quot;;
    &#125;
&#125;;

class Widget : public QWidget
&#123;
    Q_OBJECT

public:
    Widget(QWidget *parent = nullptr);
    ~Widget();
public slots:
    void onBtnClicked();
private:
    GirlFriend *girl;
    OneSelf* self;
&#125;;
</code></pre>
<ul>
<li>widget.cpp</li>
</ul>
<pre><code class="cpp">#include &quot;widget.h&quot;
#include&lt;QPushButton&gt;

Widget::Widget(QWidget *parent)
    : QWidget(parent)
&#123;
    girl = new GirlFriend(this);
    self = new OneSelf(this);
    //连接槽函数
    connect(girl,&amp;GirlFriend::hungry,self,&amp;OneSelf::onHungry);
    //连接普通成员函数
    connect(girl,&amp;GirlFriend::hungry,self,&amp;OneSelf::goEat);
    //连接静态成员函数
    connect(girl,&amp;GirlFriend::hungry,self,&amp;OneSelf::goEatFood);
        

    QPushButton*btn = new QPushButton(&quot;按下就饿了&quot;,this);
    //通过widget间接发送girl的hungry信号    
    connect(btn,&amp;QPushButton::clicked,this,&amp;Widget::onBtnClicked);
     //连接信号，直接发送girl的hungry信号   
    //connect(btn,&amp;QPushButton::clicked,girl,&amp;GirlFriend::hungry);    

&#125;

Widget::~Widget()
&#123;
&#125;

void Widget::onBtnClicked()
&#123;
    emit girl-&gt;hungry();
&#125;
</code></pre>
<h1 id="4-信号槽拓展"><a href="#4-信号槽拓展" class="headerlink" title="4. 信号槽拓展"></a>4. 信号槽拓展</h1><h2 id="4-1-信号槽使用拓展"><a href="#4-1-信号槽使用拓展" class="headerlink" title="4.1 信号槽使用拓展"></a>4.1 信号槽使用拓展</h2><ul>
<li><p>一个信号可以连接多个槽函数, 发送一个信号有多个处理动作</p>
<ul>
<li>需要写多个<code>connect</code>连接</li>
<li>信号的接收者可以是一个对象, 也可以是多个对象</li>
</ul>
</li>
<li><p>一个槽函数可以连接多个信号, 多个不同的信号, 处理动作是相同的</p>
<ul>
<li>写多个<code>connect</code>就可以</li>
</ul>
</li>
<li><p>信号可以连接信号</p>
<ul>
<li><p>信号接收者可以不出来接收的信号, 继续发出新的信号 -&gt; 传递了数据, 并没有进行处理</p>
<pre><code class="c++">QPushButton*btn = new QPushButton(&quot;one&quot;,this);
QPushButton*btn2 = new QPushButton(&quot;two&quot;,this);
btn2-&gt;move(100,0);
//点击btn按钮，会让btn2按钮发出clicked信号
connect(btn,&amp;QPushButton::clicked,btn2,&amp;QPushButton::clicked);

connect(btn2,&amp;QPushButton::clicked,this,&amp;Widget::onClicked);
void Widget::onClicked()
&#123;
    qDebug()&lt;&lt;&quot;okok&quot;;
&#125;
</code></pre>
</li>
</ul>
</li>
<li><p>信号槽是可以断开的</p>
<pre><code class="c++">disconnect(const QObject *sender, &amp;QObject::signal, 
        const QObject *receiver, &amp;QObject::method);
</code></pre>
</li>
</ul>
<h2 id="4-2-信号槽的连接方式"><a href="#4-2-信号槽的连接方式" class="headerlink" title="4.2 信号槽的连接方式"></a>4.2 信号槽的连接方式</h2><ul>
<li><p>Qt5的连接方式</p>
<pre><code class="c++">// 语法:
QMetaObject::Connection QObject::connect(
        const QObject *sender, PointerToMemberFunction signal, 
        const QObject *receiver, PointerToMemberFunction method, 
        Qt::ConnectionType type = Qt::AutoConnection);

// 信号和槽函数也就是第2,4个参数传递的是地址, 编译器在编译过程中会对数据的正确性进行检测
connect(const QObject *sender, &amp;QObject::signal, 
        const QObject *receiver, &amp;QObject::method);
</code></pre>
</li>
<li><p>Qt4的连接方式</p>
<blockquote>
<p>这种旧的信号槽连接方式在Qt5中是支持的, 但是不推荐使用, 因为这种方式在进行信号槽连接的时候, 信号槽函数通过宏<code>SIGNAL</code>和<code>SLOT</code>转换为字符串类型。</p>
<p>因为信号槽函数的转换是通过宏来进行转换的，因此传递到宏函数内部的数据不会被进行检测， 如果使用者传错了数据，编译器也不会报错，但实际上信号槽的连接已经不对了，只有在程序运行起来之后才能发现问题，而且问题不容易被定位。</p>
</blockquote>
<pre><code class="c++">// Qt4的信号槽连接方式
[static] QMetaObject::Connection QObject::connect(
    const QObject *sender, const char *signal, 
    const QObject *receiver, const char *method, 
    Qt::ConnectionType type = Qt::AutoConnection);

connect(const QObject *sender,SIGNAL(信号函数名(参数1, 参数2, ...)),
        const QObject *receiver,SLOT(槽函数名(参数1, 参数2, ...)));
</code></pre>
</li>
<li><p>应用举例</p>
<pre><code class="c++">class Me : public QObject
&#123;
    Q_OBJECT
// Qt4中的槽函数必须这样声明, qt5中的关键字 slots 可以被省略
public slots:
       void eat();
    void eat(QString somthing);
signals:
    void hungury();
    void hungury(QString somthing);
&#125;;
</code></pre>
</li>
</ul>
<p>基于上面写的信号与槽，我们来处理如下逻辑: 我饿了, 我要吃东西</p>
<ul>
<li><p><strong>分析</strong>: 信号的发出者是我自己, 信号的接收者也是我自己</p>
<pre><code class="cpp">Me m;
// Qt4处理方式  注意不要把信号与槽的名字写错了，因为是转为字符串写错了不会报错，但是连接会失败
connect(&amp;m, SIGNAL(eat()), &amp;m, SLOT(hungury()));
connect(&amp;m, SIGNAL(eat(QString)), &amp;m, SLOT(hungury(QString)));

// Qt5处理方式
connect(&amp;m, &amp;Me::eat, &amp;m, &amp;Me::hungury);	// error:no matching member function for call to &#39;connect&#39;
</code></pre>
</li>
<li><p><strong>为什么Qt4的方式没有错误，Qt5的方式却有问题了呢？</strong></p>
<ul>
<li>Qt4的方式在传信号和槽的时候用了宏进行强转，而且都带了参数，不会有二义性问题产生</li>
<li>Qt5中，信号和槽都有重载，此事connect函数根本就不知道你要使用的是重载中的哪一个，所以只能报错咯！</li>
</ul>
</li>
<li><p><strong>如何解决Qt5中的信号和槽重载中的二义性问题呢？</strong></p>
<ul>
<li><p>一，通过函数指针解决</p>
<pre><code class="cpp">//信号
void (Me::*funchungury)() = &amp;Me::hungury;
void (Me::*funchungury_QString)(QString) = &amp;Me::hungury;
//槽
void (Me::*funceat)() = &amp;Me::eat;
void (Me::*funceat_QString)(QString) = &amp;Me::eat;
//有参连接
connect(me,funchungury_QString,me,funceat_QString);
//无参连接
connect(me,funchungury,me,funceat);
</code></pre>
</li>
<li><p>二，通过Qt提供的重载类(QOverload)解决</p>
<pre><code class="cpp">//有参连接
connect(this,QOverload&lt;QString&gt;::of(&amp;MyButton::hungury),this,QOverload&lt;QString&gt;::of(&amp;MyButton::eat));
//无参连接
connect(this,QOverload&lt;&gt;::of(&amp;MyButton::hungury),this,QOverload&lt;&gt;::of(&amp;MyButton::eat));
</code></pre>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>总结</strong><ul>
<li>Qt4的信号槽连接方式因为使用了宏函数, 宏函数对用户传递的信号槽不会做错误检测, 容易出bug</li>
<li>Qt5的信号槽连接方式, 传递的是信号槽函数的地址, 编译器会做错误检测, 减少了bug的产生</li>
<li>当信号槽函数被重载之后, Qt4的信号槽连接方式不受影响</li>
<li>当信号槽函数被重载之后, Qt5中需要给被重载的信号或者槽定义函数指针</li>
</ul>
</li>
</ul>
<h2 id="4-3-Lambda表达式"><a href="#4-3-Lambda表达式" class="headerlink" title="4.3 Lambda表达式"></a>4.3 Lambda表达式</h2><pre><code class="cpp">QPushButton*btn = new QPushButton(&quot;touch me&quot;,this);
QPushButton*btn2 = new QPushButton(&quot;天王盖地虎&quot;,this);
btn2-&gt;move(100,0);

//禁止用&amp;引用捕获临时变量，因为函数结束变量会销毁，在lambda中使用会产生错误
//应该使用按值捕获 = 
connect(btn,&amp;QPushButton::clicked,this,[=]()
&#123;
    static  int flag = false;	//可以这样用
    if (!flag)
    &#123;
        btn2-&gt;setText(&quot;小鸡顿蘑菇&quot;);
    &#125;
    else
    &#123;
        btn2-&gt;setText(&quot;天王盖地虎&quot;);
    &#125;
    flag = !flag;
&#125;);
</code></pre>
<p>Lambda表达式是C++11最重要也是最常用的特性之一，是现代编程语言的一个特点，简洁，提高了代码的效率并且可以使程序更加灵活，Qt是完全支持c++语法的， 因此在Qt中也可以使用Lambda表达式。</p>
<p>Lambda表达式就是一个匿名函数， 语法格式如下：</p>
<pre><code class="c++">[capture](params) opt -&gt; ret &#123;body;&#125;;
    - capture: 捕获列表
    - params: 参数列表
    - opt: 函数选项
    - ret: 返回值类型
    - body: 函数体
        
// 示例代码-&gt;匿名函数的调用:
int ret = [](int a) -&gt; int
&#123;
    return a+1;
&#125;(100);
</code></pre>
<p>关于Lambda表达式的细节介绍:</p>
<ol>
<li>捕获列表: 捕获一定范围内的变量<ul>
<li><code>[] </code>- 不捕捉任何变量</li>
<li><code>[&amp;] </code>- 捕获外部作用域中所有变量, 并作为引用在函数体内使用 (<code>按引用捕获</code>)</li>
<li><code>[=] </code>-  捕获外部作用域中所有变量, 并作为副本在函数体内使用 (<code>按值捕获</code>)<ul>
<li>拷贝的副本在匿名函数体内部是只读的</li>
</ul>
</li>
<li><code>[=, &amp;foo]</code> - 按值捕获外部作用域中所有变量, 并按照引用捕获外部变量 foo</li>
<li><code>[bar]</code> - 按值捕获 bar 变量, 同时不捕获其他变量</li>
<li><code>[&amp;bar]</code> - 按值捕获 bar 变量, 同时不捕获其他变量</li>
<li><code>[this]</code> - 捕获当前类中的this指针<ul>
<li>让lambda表达式拥有和当前类成员函数同样的访问权限</li>
<li>如果已经使用了 &amp; 或者 &#x3D;, 默认添加此选项</li>
</ul>
</li>
</ul>
</li>
<li>参数列表: 和普通函数的参数列表一样</li>
<li>opt 选项 –&gt;  <code>可以省略</code><ul>
<li>mutable: 可以修改按值传递进来的拷贝（注意是能修改拷贝，而不是值本身）</li>
<li>exception: 指定函数抛出的异常，如抛出整数类型的异常，可以使用throw();</li>
</ul>
</li>
<li>返回值类型:<ul>
<li>标识函数返回值的类型，当返回值为void，或者函数体中只有一处return的地方（此时编译器可以自动推断出返回值类型）时，这部分可以省略</li>
</ul>
</li>
<li>函数体:<ul>
<li>函数的实现，这部分不能省略，但函数体可以为空。</li>
</ul>
</li>
</ol>
<h1 id="Qt内存回收机制"><a href="#Qt内存回收机制" class="headerlink" title="Qt内存回收机制"></a>Qt内存回收机制</h1><h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><p>​       Qt内存管理机制：Qt 在内部能够维护对象的层次结构。对于可视元素，这种层次结构就是子组件与父组件的关系；对于非可视元素，则是一个对象与另一个对象的从属关系。在 Qt 中，在 Qt 中，删除父对象会将其子对象一起删除。</p>
<p>   C++中delete 和 new 必须配对使用(一 一对应)：delete少了，则内存泄露，多了麻烦更大。Qt中使用了new却很少delete，因为QObject的类及其继承的类，设置了parent（也可在构造时使用setParent函数或parent的addChild）故parent被delete时，这个parent的相关所有child都会自动delete，不用用户手动处理。但parent是不区分它的child是new出来的还是在栈上分配的。这体现delete的强大，可以释放掉任何的对象，而delete栈上对象就会导致内存出错，这需要了解Qt的半自动的内存管理。另一个问题：child不知道它自己是否被delete掉了，故可能会出现野指针。那就要了解Qt的智能指针QPointer。</p>
<p>在Qt中，最基础和核心的类是：QObject，QObject内部有一个list，会保存children，还有一个指针保存parent，当自己析构时，会自己从parent列表中删除并且析构所有的children。</p>
<h3 id="1、内存管理"><a href="#1、内存管理" class="headerlink" title="1、内存管理"></a>1、内存管理</h3><p>（1）QObject及其派生类的对象，如果其parent非nullptr，那么其parent析构时会析构该对象。</p>
<p>（2）父子关系：父对象、子对象、父子关系。这是Qt中所特有的，与类的继承关系无关，传递参数是与parent有关（基类、派生类，或父类、子类，这是对于派生体系来说的，与parent无关）。</p>
<h3 id="2、内存问题例子"><a href="#2、内存问题例子" class="headerlink" title="2、内存问题例子"></a>2、内存问题例子</h3><pre><code class="cpp">#include &lt;QPushButton&gt;

Widget::Widget(QWidget *parent)
&#123;
    QLabel *label = new QLabel(&quot;Hello Qt!&quot;);
    label-&gt;show();
&#125;
</code></pre>
<p><strong>分析：</strong><code>label 既没有指定parent，也没有对其调用delete，所以会造成内存泄漏。</code></p>
<p><strong>改进方式：</strong></p>
<ul>
<li>分配对象到栈上而不是堆上</li>
</ul>
<pre><code class="cpp">#include &lt;QLabel&gt;

Widget::Widget(QWidget *parent)
&#123;
    QLabel label(&quot;Hello Qt!&quot;);
    label.show();
&#125;
</code></pre>
<p><strong>分析：</strong>构造函数执行完毕，对象生命周期结束会被自动析构，窗口上的控件消失不见</p>
<ul>
<li>使用指定父对象的方式自动管理内存</li>
</ul>
<pre><code class="cpp">class MyPushButton:public QPushButton
&#123;
public:
    using QPushButton::QPushButton;

    ~MyPushButton()
    &#123;
        qDebug()&lt;&lt;&quot;MyPushButton 析构~&quot;;
    &#125;
&#125;;

Widget::Widget(QWidget *parent)
&#123;
    QPushButton* btn2 = new MyPushButton(&quot;第二个按钮&quot;,this);
    btn2-&gt;move(100,0);
&#125;
//运行之后关掉窗口，应用程序输出显示：MyPushButton 析构~
</code></pre>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。邮件至kpsun@foxmail.com </span>
    </div>
</article>



<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>QT(信号和槽)</p>
    <p><span class="copy-title">字数:</span><span class="post-count">4.8k</span></p>
    <p><span class="copy-title">本文作者:</span><a  title="kpsun">kpsun</a></p>
    <p><span class="copy-title">发布时间:</span>2022-09-06, 12:08:32</p>
    <p><span class="copy-title">最后更新:</span>2022-10-01, 17:24:03</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/2022/09/06/QT(%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD)/" title="QT(信号和槽)">http://goskp.github.io/2022/09/06/QT(%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD)/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">&#34;署名-非商用-相同方式共享 4.0&#34;</a> 转载请保留原文链接及作者。
    </p>
</div>








    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2016-2020 Yelog
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>


        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(e){e.imageLazyLoadSetting.processImages=t;var n=e.imageLazyLoadSetting.isSPA,i=e.imageLazyLoadSetting.preloadRatio||1,r=o();function o(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){n&&(r=o());for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(e.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];e=function(){r=r.filter(function(t){return o!==t})},(t=o).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,t.removeAttribute("data-original"),e&&e()},t.src!==i&&(n.src=i))}()}function a(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",a),e.addEventListener("resize",a),e.addEventListener("orientationchange",a)}(this);</script></body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
